module.exports=[3130,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-xl border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},40695,a=>{"use strict";var b=a.i(87924),c=a.i(11011),d=a.i(187),e=a.i(97895);let f=(0,d.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg shadow-primary/50 hover:shadow-xl hover:shadow-primary/70",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60 shadow-lg shadow-destructive/50 hover:shadow-xl hover:shadow-destructive/70",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 shadow-md shadow-primary/30 hover:shadow-lg hover:shadow-primary/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-lg shadow-secondary/50 hover:shadow-xl hover:shadow-secondary/70",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function g({className:a,variant:d,size:g,asChild:h=!1,...i}){let j=h?c.Slot:"button";return(0,b.jsx)(j,{"data-slot":"button",className:(0,e.cn)(f({variant:d,size:g,className:a})),...i})}a.s(["Button",()=>g])},70106,a=>{"use strict";var b=a.i(72131);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],70106)},67453,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],67453)},13513,a=>{"use strict";let b=(0,a.i(70106).default)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);a.s(["Camera",()=>b],13513)},59315,(a,b,c)=>{var d;a.e,d=a.r(72131),b.exports=function(a){var b={};function c(d){if(b[d])return b[d].exports;var e=b[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,c),e.l=!0,e.exports}return c.m=a,c.c=b,c.d=function(a,b,d){c.o(a,b)||Object.defineProperty(a,b,{enumerable:!0,get:d})},c.r=function(a){"u">typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},c.t=function(a,b){if(1&b&&(a=c(a)),8&b||4&b&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(c.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&b&&"string"!=typeof a)for(var e in a)c.d(d,e,(function(b){return a[b]}).bind(null,e));return d},c.n=function(a){var b=a&&a.__esModule?function(){return a.default}:function(){return a};return c.d(b,"a",b),b},c.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},c.p="",c(c.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(a,b,c){"use strict";c.r(b);var d,e=c("react"),f=(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),g=function(){return(g=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},h=function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c};function i(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}b.default=function(a){function b(b){var c=a.call(this,b)||this;return c.canvas=null,c.ctx=null,c.requestUserMediaId=0,c.unmounted=!1,c.state={hasUserMedia:!1},c}return f(b,a),b.prototype.componentDidMount=function(){var a=this.state,b=this.props;(this.unmounted=!1,i())?(a.hasUserMedia||this.requestUserMedia(),b.children&&"function"!=typeof b.children&&console.warn("children must be a function")):b.onUserMediaError("getUserMedia not supported")},b.prototype.componentDidUpdate=function(a){var b=this.props;if(!i())return void b.onUserMediaError("getUserMedia not supported");var c=JSON.stringify(a.audioConstraints)!==JSON.stringify(b.audioConstraints),d=JSON.stringify(a.videoConstraints)!==JSON.stringify(b.videoConstraints),e=a.minScreenshotWidth!==b.minScreenshotWidth,f=a.minScreenshotHeight!==b.minScreenshotHeight;(d||e||f)&&(this.canvas=null,this.ctx=null),(c||d)&&(this.stopAndCleanup(),this.requestUserMedia())},b.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},b.stopMediaStream=function(a){a&&(a.getVideoTracks&&a.getAudioTracks?(a.getVideoTracks().map(function(b){a.removeTrack(b),b.stop()}),a.getAudioTracks().map(function(b){a.removeTrack(b),b.stop()})):a.stop())},b.prototype.stopAndCleanup=function(){var a=this.state;a.hasUserMedia&&(b.stopMediaStream(this.stream),a.src&&window.URL.revokeObjectURL(a.src))},b.prototype.getScreenshot=function(a){var b=this.state,c=this.props;if(!b.hasUserMedia)return null;var d=this.getCanvas(a);return d&&d.toDataURL(c.screenshotFormat,c.screenshotQuality)},b.prototype.getCanvas=function(a){var b=this.state,c=this.props;if(!this.video||!b.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var d=this.video.videoWidth,e=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var f=d/e;e=(d=c.minScreenshotWidth||this.video.clientWidth)/f,c.minScreenshotHeight&&e<c.minScreenshotHeight&&(d=(e=c.minScreenshotHeight)*f)}this.canvas=document.createElement("canvas"),this.canvas.width=(null==a?void 0:a.width)||d,this.canvas.height=(null==a?void 0:a.height)||e,this.ctx=this.canvas.getContext("2d")}var g=this.ctx,h=this.canvas;return g&&h&&(h.width=(null==a?void 0:a.width)||h.width,h.height=(null==a?void 0:a.height)||h.height,c.mirrored&&(g.translate(h.width,0),g.scale(-1,1)),g.imageSmoothingEnabled=c.imageSmoothing,g.drawImage(this.video,0,0,(null==a?void 0:a.width)||h.width,(null==a?void 0:a.height)||h.height),c.mirrored&&(g.scale(-1,1),g.translate(-h.width,0))),h},b.prototype.requestUserMedia=function(){var a=this,c=this.props,d=function(d,e){var f={video:void 0===e||e};c.audio&&(f.audio=void 0===d||d),a.requestUserMediaId++;var g=a.requestUserMediaId;navigator.mediaDevices.getUserMedia(f).then(function(c){a.unmounted||g!==a.requestUserMediaId?b.stopMediaStream(c):a.handleUserMedia(null,c)}).catch(function(b){a.handleUserMedia(b)})};if("mediaDevices"in navigator)d(c.audioConstraints,c.videoConstraints);else{var e=function(a){return{optional:[{sourceId:a}]}},f=function(a){var b=a.deviceId;return"string"==typeof b?b:Array.isArray(b)&&b.length>0?b[0]:"object"==typeof b&&b.ideal?b.ideal:null};MediaStreamTrack.getSources(function(a){var b=null,g=null;a.forEach(function(a){"audio"===a.kind?b=a.id:"video"===a.kind&&(g=a.id)});var h=f(c.audioConstraints);h&&(b=h);var i=f(c.videoConstraints);i&&(g=i),d(e(b),e(g))})}},b.prototype.handleUserMedia=function(a,b){var c=this.props;if(a||!b){this.setState({hasUserMedia:!1}),c.onUserMediaError(a);return}this.stream=b;try{this.video&&(this.video.srcObject=b),this.setState({hasUserMedia:!0})}catch(a){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(b)})}c.onUserMedia(b)},b.prototype.render=function(){var a=this,b=this.state,c=this.props,d=c.audio,f=(c.forceScreenshotSourceSize,c.disablePictureInPicture),i=(c.onUserMedia,c.onUserMediaError,c.screenshotFormat,c.screenshotQuality,c.minScreenshotWidth,c.minScreenshotHeight,c.audioConstraints,c.videoConstraints,c.imageSmoothing,c.mirrored),j=c.style,k=void 0===j?{}:j,l=c.children,m=h(c,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),n=i?g(g({},k),{transform:(k.transform||"")+" scaleX(-1)"}):k,o={getScreenshot:this.getScreenshot.bind(this)};return e.createElement(e.Fragment,null,e.createElement("video",g({autoPlay:!0,disablePictureInPicture:f,src:b.src,muted:!d,playsInline:!0,ref:function(b){a.video=b},style:n},m)),l&&l(o))},b.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},b}(e.Component)},react:function(a,b){a.exports=d}}).default},87654,a=>{"use strict";let b=(0,a.i(70106).default)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);a.s(["RotateCcw",()=>b],87654)},85985,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(59315),e=a.i(50944),f=a.i(40695),g=a.i(3130),h=a.i(13513),i=a.i(67453),j=a.i(87654);function k(){let a=(0,e.useRouter)(),k=c.useRef(null),[l,m]=c.useState(null),[n,o]=c.useState("idle"),p=c.useCallback(()=>{let a=k.current?.getScreenshot();a&&m(a)},[k]);return(0,b.jsxs)("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-indigo-500/10 blur-[100px] pointer-events-none"}),(0,b.jsxs)(g.Card,{className:"w-full max-w-lg glass-dark border-primary/20 relative z-10",children:[(0,b.jsxs)(g.CardHeader,{className:"text-center",children:[(0,b.jsxs)(g.CardTitle,{className:"text-2xl flex items-center justify-center gap-2",children:[(0,b.jsx)(h.Camera,{className:"h-6 w-6 text-indigo-400"})," Face Verification"]}),(0,b.jsx)(g.CardDescription,{children:"Position your face within the frame and click capture."})]}),(0,b.jsxs)(g.CardContent,{className:"flex flex-col items-center gap-6",children:[(0,b.jsxs)("div",{className:"relative w-[300px] h-[300px] md:w-[400px] md:h-[400px] rounded-2xl overflow-hidden border-2 border-dashed border-white/20 bg-black/50 shadow-2xl",children:["success"===n?(0,b.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-green-500/20 backdrop-blur-sm z-20",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mb-4 shadow-[0_0_30px_theme(colors.green.500)] animate-in zoom-in",children:(0,b.jsx)(i.CheckCircle2,{className:"h-10 w-10 text-white"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Verified!"}),(0,b.jsx)("p",{className:"text-sm text-green-200",children:"Redirecting..."})]}):null,l?(0,b.jsx)("img",{src:l,alt:"captured",className:"w-full h-full object-cover transform scale-x-[-1]"}):(0,b.jsx)(d.default,{audio:!1,height:400,ref:k,screenshotFormat:"image/jpeg",width:400,videoConstraints:{width:500,height:500,facingMode:"user"},className:"w-full h-full object-cover transform scale-x-[-1]"}),!l&&(0,b.jsxs)("div",{className:"absolute inset-0 border-[3px] border-indigo-500/50 m-8 rounded-xl pointer-events-none opacity-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"w-full h-[1px] bg-indigo-500/30 absolute"}),(0,b.jsx)("div",{className:"h-full w-[1px] bg-indigo-500/30 absolute"})]})]}),(0,b.jsx)("div",{className:"flex gap-4 w-full justify-center",children:l?(0,b.jsxs)(b.Fragment,{children:["success"!==n&&"verifying"!==n&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(f.Button,{variant:"outline",size:"lg",className:"flex-1 border-white/10 hover:bg-white/5",onClick:()=>{m(null),o("idle")},children:[(0,b.jsx)(j.RotateCcw,{className:"mr-2 h-4 w-4"})," Retake"]}),(0,b.jsxs)(f.Button,{size:"lg",className:"flex-1 bg-green-600 hover:bg-green-700 text-white",onClick:()=>{o("verifying"),setTimeout(()=>{o("success"),setTimeout(()=>{a.push("/student/attendance/id-card")},2e3)},2e3)},children:[(0,b.jsx)(i.CheckCircle2,{className:"mr-2 h-4 w-4"})," Verify"]})]}),"verifying"===n&&(0,b.jsx)(f.Button,{disabled:!0,size:"lg",className:"w-full bg-indigo-600/50",children:"Processing..."})]}):(0,b.jsxs)(f.Button,{size:"lg",className:"w-full bg-indigo-600 hover:bg-indigo-700 h-14 text-lg shadow-lg shadow-indigo-500/20",onClick:p,children:[(0,b.jsx)(h.Camera,{className:"mr-2 h-5 w-5"})," Capture Photo"]})})]})]})]})}a.s(["default",()=>k])}];

//# sourceMappingURL=_fbec809d._.js.map