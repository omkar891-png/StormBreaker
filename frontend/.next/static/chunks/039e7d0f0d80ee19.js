(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63270,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(30030),r=e.i(30207),i=e.i(34620),n=e.i(48425),l="Avatar",[d,c]=(0,s.createContextScope)(l),[o,u]=d(l),m=a.forwardRef((e,s)=>{let{__scopeAvatar:r,...i}=e,[l,d]=a.useState("idle");return(0,t.jsx)(o,{scope:r,imageLoadingStatus:l,onImageLoadingStatusChange:d,children:(0,t.jsx)(n.Primitive.span,{...i,ref:s})})});m.displayName=l;var f="AvatarImage",x=a.forwardRef((e,s)=>{let{__scopeAvatar:l,src:d,onLoadingStatusChange:c=()=>{},...o}=e,m=u(f,l),x=function(e,t){let[s,r]=a.useState("idle");return(0,i.useLayoutEffect)(()=>{if(!e)return void r("error");let a=!0,s=new window.Image,i=e=>()=>{a&&r(e)};return r("loading"),s.onload=i("loaded"),s.onerror=i("error"),s.src=e,t&&(s.referrerPolicy=t),()=>{a=!1}},[e,t]),s}(d,o.referrerPolicy),p=(0,r.useCallbackRef)(e=>{c(e),m.onImageLoadingStatusChange(e)});return(0,i.useLayoutEffect)(()=>{"idle"!==x&&p(x)},[x,p]),"loaded"===x?(0,t.jsx)(n.Primitive.img,{...o,ref:s,src:d}):null});x.displayName=f;var p="AvatarFallback",g=a.forwardRef((e,s)=>{let{__scopeAvatar:r,delayMs:i,...l}=e,d=u(p,r),[c,o]=a.useState(void 0===i);return a.useEffect(()=>{if(void 0!==i){let e=window.setTimeout(()=>o(!0),i);return()=>window.clearTimeout(e)}},[i]),c&&"loaded"!==d.imageLoadingStatus?(0,t.jsx)(n.Primitive.span,{...l,ref:s}):null});g.displayName=p;var h=e.i(47163);let v=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(m,{ref:s,className:(0,h.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...a}));v.displayName=m.displayName;let y=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(x,{ref:s,className:(0,h.cn)("aspect-square h-full w-full",e),...a}));y.displayName=x.displayName;let b=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(g,{ref:s,className:(0,h.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...a}));b.displayName=g.displayName,e.s(["Avatar",()=>v,"AvatarFallback",()=>b,"AvatarImage",()=>y],63270)},61911,e=>{"use strict";let t=(0,e.i(75254).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);e.s(["Users",()=>t],61911)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},70065,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(47163);let r=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("rounded-xl border bg-card text-card-foreground shadow-sm",e),...a}));r.displayName="Card";let i=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...a}));i.displayName="CardHeader";let n=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("font-semibold leading-none tracking-tight",e),...a}));n.displayName="CardTitle";let l=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",e),...a}));l.displayName="CardDescription";let d=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",e),...a}));d.displayName="CardContent";let c=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",e),...a}));c.displayName="CardFooter",e.s(["Card",()=>r,"CardContent",()=>d,"CardDescription",()=>l,"CardFooter",()=>c,"CardHeader",()=>i,"CardTitle",()=>n])},48425,e=>{"use strict";var t=e.i(71645),a=e.i(74080),s=e.i(91918),r=e.i(43476),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,a)=>{let i=t.forwardRef((e,t)=>{let{asChild:i,...n}=e,l=i?s.Slot:a;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(l,{...n,ref:t})});return i.displayName=`Primitive.${a}`,{...e,[a]:i}},{});function n(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>i,"dispatchDiscreteCustomEvent",()=>n])},30030,e=>{"use strict";var t=e.i(71645),a=e.i(43476);function s(e,s){let r=t.createContext(s),i=e=>{let{children:s,...i}=e,n=t.useMemo(()=>i,Object.values(i));return(0,a.jsx)(r.Provider,{value:n,children:s})};return i.displayName=e+"Provider",[i,function(a){let i=t.useContext(r);if(i)return i;if(void 0!==s)return s;throw Error(`\`${a}\` must be used within \`${e}\``)}]}function r(e,s=[]){let i=[],n=()=>{let a=i.map(e=>t.createContext(e));return function(s){let r=s?.[e]||a;return t.useMemo(()=>({[`__scope${e}`]:{...s,[e]:r}}),[s,r])}};return n.scopeName=e,[function(s,r){let n=t.createContext(r),l=i.length;i=[...i,r];let d=s=>{let{scope:r,children:i,...d}=s,c=r?.[e]?.[l]||n,o=t.useMemo(()=>d,Object.values(d));return(0,a.jsx)(c.Provider,{value:o,children:i})};return d.displayName=s+"Provider",[d,function(a,i){let d=i?.[e]?.[l]||n,c=t.useContext(d);if(c)return c;if(void 0!==r)return r;throw Error(`\`${a}\` must be used within \`${s}\``)}]},function(...e){let a=e[0];if(1===e.length)return a;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=s.reduce((t,{useScope:a,scopeName:s})=>{let r=a(e)[`__scope${s}`];return{...t,...r}},{});return t.useMemo(()=>({[`__scope${a.scopeName}`]:r}),[r])}};return s.scopeName=a.scopeName,s}(n,...s)]}e.s(["createContext",()=>s,"createContextScope",()=>r])},30207,e=>{"use strict";var t=e.i(71645);function a(e){let a=t.useRef(e);return t.useEffect(()=>{a.current=e}),t.useMemo(()=>(...e)=>a.current?.(...e),[])}e.s(["useCallbackRef",()=>a])},34620,e=>{"use strict";var t=e.i(71645),a=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>a])},94179,e=>{"use strict";var t=e.i(43476),a=e.i(25913),s=e.i(47163);let r=(0,a.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:a,...i}){return(0,t.jsx)("div",{className:(0,s.cn)(r({variant:a}),e),...i})}e.s(["Badge",()=>i])},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},73884,e=>{"use strict";let t=(0,e.i(75254).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],73884)},12628,e=>{"use strict";let t=(0,e.i(75254).default)("ScanFace",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 9h.01",key:"x1ddxp"}]]);e.s(["ScanFace",()=>t],12628)},53113,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566),r=e.i(67881),i=e.i(70065),n=e.i(94179),l=e.i(63270),d=e.i(61911),c=e.i(12628),o=e.i(95468),u=e.i(73884),m=e.i(3116),f=e.i(92270);let x=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),p=[{id:"CS01",name:"Alex Doe",img:"/avatars/01.png",status:"pending"},{id:"CS02",name:"John Smith",img:"/avatars/02.png",status:"pending"},{id:"CS03",name:"Sarah Connor",img:"/avatars/03.png",status:"pending"},{id:"CS04",name:"Mike Ross",img:"/avatars/04.png",status:"pending"},{id:"CS05",name:"Rachel Green",img:"/avatars/05.png",status:"pending"},{id:"CS06",name:"Harvey Specter",img:"/avatars/06.png",status:"pending"},{id:"CS07",name:"Louis Litt",img:"/avatars/07.png",status:"pending"},{id:"CS08",name:"Donna Paulsen",img:"/avatars/08.png",status:"pending"}];function g(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{className:"p-6 text-center",children:"Loading session..."}),children:(0,t.jsx)(h,{})})}function h(){let e=(0,s.useSearchParams)(),g=(0,s.useRouter)(),h=e.get("dept")||"CS",v=e.get("class")||"SY",y=e.get("div")||"A",b=e.get("sub")||"Unknown Subject",[j,N]=a.useState(p),[w,C]=a.useState(!1),[k,S]=a.useState(!0),M=j.length,R=j.filter(e=>"present"===e.status).length,A=j.filter(e=>"absent"===e.status).length,P=(e,t)=>{k&&N(a=>a.map(a=>a.id===e?{...a,status:t}:a))};return(0,t.jsxs)("div",{className:"flex flex-col h-[calc(100vh-4rem)] animate-fade-in p-6 gap-6",children:[(0,t.jsxs)("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-black/40 backdrop-blur-xl p-6 rounded-2xl border border-white/10 sticky top-0 z-20",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(n.Badge,{variant:"outline",className:"text-indigo-400 border-indigo-500/30 px-3 py-1",children:"LIVE"}),(0,t.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:b})]}),(0,t.jsxs)("p",{className:"text-muted-foreground mt-1 text-sm flex items-center gap-2",children:[(0,t.jsx)(d.Users,{className:"h-4 w-4"})," ",v,"-",h," / Div ",y,(0,t.jsx)("span",{className:"text-white/20",children:"|"}),(0,t.jsx)(m.Clock,{className:"h-4 w-4"})," Started at ",new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:k?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.Button,{variant:"secondary",className:"gap-2",onClick:()=>{k&&(C(!0),setTimeout(()=>{N(e=>{let t=e.filter(e=>"pending"===e.status);if(0===t.length)return e;let a=new Set;for(;a.size<Math.min(3,t.length);)a.add(Math.floor(Math.random()*t.length));let s=new Set(Array.from(a).map(e=>t[e].id));return e.map(e=>s.has(e.id)?{...e,status:"present"}:e)}),C(!1)},2e3))},disabled:w,children:[w?(0,t.jsx)(x,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(c.ScanFace,{className:"h-4 w-4"}),w?"Scanning...":"Simulate Face Scan"]}),(0,t.jsxs)(r.Button,{variant:"destructive",className:"gap-2",onClick:()=>{window.confirm("Are you sure you want to end this session? All pending students will be marked Absent.")&&(N(e=>e.map(e=>"pending"===e.status?{...e,status:"absent"}:e)),S(!1))},children:[(0,t.jsx)(f.LogOut,{className:"h-4 w-4"})," End Session"]})]}):(0,t.jsxs)(r.Button,{className:"bg-green-600 hover:bg-green-700 text-white gap-2",onClick:()=>g.push("/faculty/dashboard"),children:[(0,t.jsx)(o.CheckCircle2,{className:"h-4 w-4"})," Finish & Save"]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 flex-1 overflow-hidden",children:[(0,t.jsxs)("div",{className:"lg:col-span-3 flex flex-col gap-6 overflow-y-auto pr-2 custom-scrollbar",children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsx)(i.Card,{className:"glass-dark border-green-500/20 bg-green-500/5",children:(0,t.jsxs)(i.CardContent,{className:"p-4 flex flex-col items-center justify-center",children:[(0,t.jsx)("span",{className:"text-3xl font-bold text-green-500",children:R}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Present"})]})}),(0,t.jsx)(i.Card,{className:"glass-dark border-red-500/20 bg-red-500/5",children:(0,t.jsxs)(i.CardContent,{className:"p-4 flex flex-col items-center justify-center",children:[(0,t.jsx)("span",{className:"text-3xl font-bold text-red-500",children:A}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Absent"})]})}),(0,t.jsx)(i.Card,{className:"glass-dark border-white/10",children:(0,t.jsxs)(i.CardContent,{className:"p-4 flex flex-col items-center justify-center",children:[(0,t.jsx)("span",{className:"text-3xl font-bold text-white",children:M}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Total"})]})})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:j.map(e=>(0,t.jsxs)(i.Card,{className:`
                                    border transition-all duration-300 relative overflow-hidden group
                                    ${"present"===e.status?"border-green-500/50 bg-green-500/10":"absent"===e.status?"border-red-500/50 bg-red-500/10 opacity-70":"border-white/10 bg-white/5 hover:border-white/30"}
                                `,children:[(0,t.jsxs)(i.CardContent,{className:"p-4 flex items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(l.Avatar,{className:`h-10 w-10 border-2 ${"present"===e.status?"border-green-500":"absent"===e.status?"border-red-500":"border-transparent"}`,children:[(0,t.jsx)(l.AvatarImage,{src:e.img}),(0,t.jsx)(l.AvatarFallback,{children:"S"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-sm leading-none",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1 font-mono",children:e.id})]})]}),k&&(0,t.jsxs)("div",{className:"flex flex-col gap-1 opacity-100 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:()=>P(e.id,"present"),className:`p-1 rounded-full hover:bg-green-500 hover:text-white transition-colors ${"present"===e.status?"text-green-500":"text-muted-foreground"}`,title:"Mark Present",children:(0,t.jsx)(o.CheckCircle2,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>P(e.id,"absent"),className:`p-1 rounded-full hover:bg-red-500 hover:text-white transition-colors ${"absent"===e.status?"text-red-500":"text-muted-foreground"}`,title:"Mark Absent",children:(0,t.jsx)(u.XCircle,{className:"h-4 w-4"})})]})]}),"present"===e.status&&(0,t.jsx)("div",{className:"absolute top-2 right-2 h-2 w-2 rounded-full bg-green-500 shadow-[0_0_10px_theme(colors.green.500)]"})]},e.id))})]}),(0,t.jsxs)(i.Card,{className:"glass-dark border-primary/20 h-full flex flex-col",children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsx)(i.CardTitle,{className:"text-lg",children:"Activity Log"})}),(0,t.jsxs)(i.CardContent,{className:"flex-1 overflow-y-auto text-sm space-y-4 custom-scrollbar pr-2",children:[w&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-indigo-400 animate-pulse",children:[(0,t.jsx)(c.ScanFace,{className:"h-4 w-4"})," Processing face data..."]}),j.filter(e=>"pending"!==e.status).reverse().map((e,a)=>(0,t.jsxs)("div",{className:"flex gap-2 items-start text-xs border-b border-white/5 pb-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground font-mono",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-bold",children:e.name})," was marked ",(0,t.jsx)("span",{className:"present"===e.status?"text-green-500":"text-red-500",children:e.status}),"."]})]},a)),(0,t.jsx)("div",{className:"text-muted-foreground italic",children:"Session started..."})]})]})]})]})}e.s(["default",()=>g],53113)}]);