(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var t=e.i(43476),r=e.i(71645),i=e.i(47163);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow-sm",e),...r}));s.displayName="Card";let a=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));a.displayName="CardHeader";let n=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("font-semibold leading-none tracking-tight",e),...r}));n.displayName="CardTitle";let o=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...r}));o.displayName="CardDescription";let d=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...r}));d.displayName="CardContent";let c=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r}));c.displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>d,"CardDescription",()=>o,"CardFooter",()=>c,"CardHeader",()=>a,"CardTitle",()=>n])},67881,e=>{"use strict";var t=e.i(43476),r=e.i(91918),i=e.i(25913),s=e.i(47163);let a=(0,i.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg shadow-primary/50 hover:shadow-xl hover:shadow-primary/70",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60 shadow-lg shadow-destructive/50 hover:shadow-xl hover:shadow-destructive/70",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 shadow-md shadow-primary/30 hover:shadow-lg hover:shadow-primary/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-lg shadow-secondary/50 hover:shadow-xl hover:shadow-secondary/70",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function n({className:e,variant:i,size:n,asChild:o=!1,...d}){let c=o?r.Slot:"button";return(0,t.jsx)(c,{"data-slot":"button",className:(0,s.cn)(a({variant:i,size:n,className:e})),...d})}e.s(["Button",()=>n])},75254,e=>{"use strict";var t=e.i(71645);let r=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,t.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:o="",children:d,iconNode:c,...l},u)=>(0,t.createElement)("svg",{ref:u,...i,width:s,height:s,stroke:e,strokeWidth:n?24*Number(a)/Number(s):a,className:r("lucide",o),...l},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(d)?d:[d]])),a=(e,i)=>{let a=(0,t.forwardRef)(({className:a,...n},o)=>(0,t.createElement)(s,{ref:o,iconNode:i,className:r(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,a),...n}));return a.displayName=`${e}`,a};e.s(["default",()=>a],75254)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},68553,e=>{"use strict";let t=(0,e.i(75254).default)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);e.s(["Camera",()=>t],68553)},66698,(e,t,r)=>{var i;e.e,i=e.r(71645),t.exports=function(e){var t={};function r(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"u">typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(i,s,(function(t){return e[t]}).bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,r){"use strict";r.r(t);var i,s=r("react"),a=(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=function(){return(n=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},o=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)0>t.indexOf(i[s])&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r};function d(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}"u">typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise(function(r,i){t.call(navigator,e,r,i)}):Promise.reject(Error("getUserMedia is not implemented in this browser"))})),t.default=function(e){function t(t){var r=e.call(this,t)||this;return r.canvas=null,r.ctx=null,r.requestUserMediaId=0,r.unmounted=!1,r.state={hasUserMedia:!1},r}return a(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;(this.unmounted=!1,d())?(e.hasUserMedia||this.requestUserMedia(),t.children&&"function"!=typeof t.children&&console.warn("children must be a function")):t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(!d())return void t.onUserMediaError("getUserMedia not supported");var r=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),i=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),s=e.minScreenshotWidth!==t.minScreenshotWidth,a=e.minScreenshotHeight!==t.minScreenshotHeight;(i||s||a)&&(this.canvas=null,this.ctx=null),(r||i)&&(this.stopAndCleanup(),this.requestUserMedia())},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map(function(t){e.removeTrack(t),t.stop()}),e.getAudioTracks().map(function(t){e.removeTrack(t),t.stop()})):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,r=this.props;if(!t.hasUserMedia)return null;var i=this.getCanvas(e);return i&&i.toDataURL(r.screenshotFormat,r.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,r=this.props;if(!this.video||!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var i=this.video.videoWidth,s=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var a=i/s;s=(i=r.minScreenshotWidth||this.video.clientWidth)/a,r.minScreenshotHeight&&s<r.minScreenshotHeight&&(i=(s=r.minScreenshotHeight)*a)}this.canvas=document.createElement("canvas"),this.canvas.width=(null==e?void 0:e.width)||i,this.canvas.height=(null==e?void 0:e.height)||s,this.ctx=this.canvas.getContext("2d")}var n=this.ctx,o=this.canvas;return n&&o&&(o.width=(null==e?void 0:e.width)||o.width,o.height=(null==e?void 0:e.height)||o.height,r.mirrored&&(n.translate(o.width,0),n.scale(-1,1)),n.imageSmoothingEnabled=r.imageSmoothing,n.drawImage(this.video,0,0,(null==e?void 0:e.width)||o.width,(null==e?void 0:e.height)||o.height),r.mirrored&&(n.scale(-1,1),n.translate(-o.width,0))),o},t.prototype.requestUserMedia=function(){var e=this,r=this.props,i=function(i,s){var a={video:void 0===s||s};r.audio&&(a.audio=void 0===i||i),e.requestUserMediaId++;var n=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(a).then(function(r){e.unmounted||n!==e.requestUserMediaId?t.stopMediaStream(r):e.handleUserMedia(null,r)}).catch(function(t){e.handleUserMedia(t)})};if("mediaDevices"in navigator)i(r.audioConstraints,r.videoConstraints);else{var s=function(e){return{optional:[{sourceId:e}]}},a=function(e){var t=e.deviceId;return"string"==typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"==typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources(function(e){var t=null,n=null;e.forEach(function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(n=e.id)});var o=a(r.audioConstraints);o&&(t=o);var d=a(r.videoConstraints);d&&(n=d),i(s(t),s(n))})}},t.prototype.handleUserMedia=function(e,t){var r=this.props;if(e||!t){this.setState({hasUserMedia:!1}),r.onUserMediaError(e);return}this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(e){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}r.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,r=this.props,i=r.audio,a=(r.forceScreenshotSourceSize,r.disablePictureInPicture),d=(r.onUserMedia,r.onUserMediaError,r.screenshotFormat,r.screenshotQuality,r.minScreenshotWidth,r.minScreenshotHeight,r.audioConstraints,r.videoConstraints,r.imageSmoothing,r.mirrored),c=r.style,l=void 0===c?{}:c,u=r.children,h=o(r,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),f=d?n(n({},l),{transform:(l.transform||"")+" scaleX(-1)"}):l,m={getScreenshot:this.getScreenshot.bind(this)};return s.createElement(s.Fragment,null,s.createElement("video",n({autoPlay:!0,disablePictureInPicture:a,src:t.src,muted:!i,playsInline:!0,ref:function(t){e.video=t},style:f},h)),u&&u(m))},t.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(s.Component)},react:function(e,t){e.exports=i}}).default},67240,e=>{"use strict";let t=(0,e.i(75254).default)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);e.s(["RotateCcw",()=>t],67240)},95442,e=>{"use strict";var t=e.i(43476),r=e.i(71645),i=e.i(66698),s=e.i(18566),a=e.i(67881),n=e.i(70065),o=e.i(68553),d=e.i(95468),c=e.i(67240);function l(){let e=(0,s.useRouter)(),l=r.useRef(null),[u,h]=r.useState(null),[f,m]=r.useState("idle"),v=r.useCallback(()=>{let e=l.current?.getScreenshot();e&&h(e)},[l]);return(0,t.jsxs)("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-indigo-500/10 blur-[100px] pointer-events-none"}),(0,t.jsxs)(n.Card,{className:"w-full max-w-lg glass-dark border-primary/20 relative z-10",children:[(0,t.jsxs)(n.CardHeader,{className:"text-center",children:[(0,t.jsxs)(n.CardTitle,{className:"text-2xl flex items-center justify-center gap-2",children:[(0,t.jsx)(o.Camera,{className:"h-6 w-6 text-indigo-400"})," Face Verification"]}),(0,t.jsx)(n.CardDescription,{children:"Position your face within the frame and click capture."})]}),(0,t.jsxs)(n.CardContent,{className:"flex flex-col items-center gap-6",children:[(0,t.jsxs)("div",{className:"relative w-[300px] h-[300px] md:w-[400px] md:h-[400px] rounded-2xl overflow-hidden border-2 border-dashed border-white/20 bg-black/50 shadow-2xl",children:["success"===f?(0,t.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-green-500/20 backdrop-blur-sm z-20",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mb-4 shadow-[0_0_30px_theme(colors.green.500)] animate-in zoom-in",children:(0,t.jsx)(d.CheckCircle2,{className:"h-10 w-10 text-white"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Verified!"}),(0,t.jsx)("p",{className:"text-sm text-green-200",children:"Redirecting..."})]}):null,u?(0,t.jsx)("img",{src:u,alt:"captured",className:"w-full h-full object-cover transform scale-x-[-1]"}):(0,t.jsx)(i.default,{audio:!1,height:400,ref:l,screenshotFormat:"image/jpeg",width:400,videoConstraints:{width:500,height:500,facingMode:"user"},className:"w-full h-full object-cover transform scale-x-[-1]"}),!u&&(0,t.jsxs)("div",{className:"absolute inset-0 border-[3px] border-indigo-500/50 m-8 rounded-xl pointer-events-none opacity-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"w-full h-[1px] bg-indigo-500/30 absolute"}),(0,t.jsx)("div",{className:"h-full w-[1px] bg-indigo-500/30 absolute"})]})]}),(0,t.jsx)("div",{className:"flex gap-4 w-full justify-center",children:u?(0,t.jsxs)(t.Fragment,{children:["success"!==f&&"verifying"!==f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Button,{variant:"outline",size:"lg",className:"flex-1 border-white/10 hover:bg-white/5",onClick:()=>{h(null),m("idle")},children:[(0,t.jsx)(c.RotateCcw,{className:"mr-2 h-4 w-4"})," Retake"]}),(0,t.jsxs)(a.Button,{size:"lg",className:"flex-1 bg-green-600 hover:bg-green-700 text-white",onClick:()=>{m("verifying"),setTimeout(()=>{m("success"),setTimeout(()=>{e.push("/student/attendance/id-card")},2e3)},2e3)},children:[(0,t.jsx)(d.CheckCircle2,{className:"mr-2 h-4 w-4"})," Verify"]})]}),"verifying"===f&&(0,t.jsx)(a.Button,{disabled:!0,size:"lg",className:"w-full bg-indigo-600/50",children:"Processing..."})]}):(0,t.jsxs)(a.Button,{size:"lg",className:"w-full bg-indigo-600 hover:bg-indigo-700 h-14 text-lg shadow-lg shadow-indigo-500/20",onClick:v,children:[(0,t.jsx)(o.Camera,{className:"mr-2 h-5 w-5"})," Capture Photo"]})})]})]})]})}e.s(["default",()=>l])}]);